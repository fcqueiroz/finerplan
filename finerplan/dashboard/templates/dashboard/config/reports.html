{% extends "dashboard.html" %}

{% block extra_scripts %}
{% endblock %}

{% block dashboard %}
<div class="row">
  <!-- Add Report Form -->
  <div class="col-12 col-md-6 col-xl-4 py-3">
    <div class="card">
      <div class="card-body">
        <h2>Add Report</h2>
        <form action="#" method="post" name="report">
          {{ form.hidden_tag() }}

          <!-- Report Title -->
          <div class="form-row form-group">
            {{ form.name.label(class_="col-form-label") }}
            {{ form.name(class_="form-control") }}
            {% for error in form.name.errors %}
              <span>[{{ error }}]</span>
            {% endfor %}
          </div>

          <!-- Report Type -->
          <div class="form-row form-group">
            {{ form.genre.label(class_="col-form-label") }}
            {{ form.genre(class_="custom-select") }}
            {% for error in form.genre.errors %}
              <span>[{{ error }}]</span>
            {% endfor %}
          </div>

          {{ form.submit(class_="btn btn-primary mt-4 pr-4 pl-4") }}
        </form>
      </div>
    </div>
  </div>

  <!-- Report List -->
  <div class="col-12 col-md-8 py-3">
    <div class="card">
      <div class="card-body">
        <h2 class="header-title">Report Cards</h2>
        {% if cards %}
        <table class="table text-center">
          <thead class="text-uppercase bg-primary">
              <tr class="text-white">
                  <th scope="col">Title</th>
                  <th scope="col">Type</th>
              </tr>
          </thead>
          <tbody>
          {% for row in cards %}
            <tr>
              <td>{{ row.name }}</td>
              <td>{{ row.genre }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>No reports cards created yet.</p>
        {% endif %}
      </div>
    </div>
  </div>

</div>
{% endblock %}